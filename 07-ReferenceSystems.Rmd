# Reference Systems {#rs}


## Units of measurement {#units}

```{r echo=FALSE}
Sys.setenv(UDUNITS2_XML_PATH="")
```

### Quantities 

@cobbmoore wrote that "Data are not just numbers, they are numbers
with a context", and "in data analysis, context provides meaning".

The VIM (International vocabulary of metrology, @vim)
defines a _quantity_ as a "property of a phenomenon, body, or
substance, where the property has a magnitude that can be expressed
as a number and a reference", where "[a] reference can be a measurement
unit, a measurement procedure, a reference material, or a combination
of such."

One could argue whether all data is constitued of quantities, but
there is no need to argue that proper data handling requires that
numbers are accompanied by information on what the numbers mean,
and what they are about. 

A measurement system consist of _base units_ for base quantities, and
_derived units_ for derived quantities.  The SI measurement system
consist of the seven base units length (metre, m), mass (kilogram,
kg), time (second, s), electric current (ampere, A), thermodynamic
temperature (kelvin, K), amount of substance (mole, mol), and
luminous intensity (candela, cd).  Derived units are composed
of products of integer powers of base units; exampes are speed
($\mbox{m}~\mbox{s}^{-1}$) and density ($\mbox{kg} \mbox{m}^{-3}$).

Many data variables have units that are not expressed as SI base
units or derived units; @hand discusses many measurement scales used
in social sciences, e.g. to measure intelligence, in the context
of measurement units.

### Unitless measures

The special case of unitless units can refer to either cases where
units cancelled out (e.g. mass fraction: kg/kg, or angle measured
in rad: m/m) or to cases where objects or events were counted.
Adding an angle to a count of apples would not make sense; adding
apples to oranges may make sense if the result in interpreted as
_pieces of fruit_. @flater (and @nist) discuss systems for proper
handling of unitless quantities; handling counts could for instance
link to domain-specific ontologies pointing out which things were
counted, and perhaps identifying super-classes, like _fruit_.

### Units in R

The `units` R package [@unitsrj] provides units
of measurement support for R, by interfacing the
[udunits2](https://www.unidata.ucar.edu/software/udunits/) units
database and C library. It allows for setting, converting and deriving 
units:
```{r}
library(units)
(a = set_units(1:3, m))
a_km = set_units(1:3, km)
a + a_km
b = set_units(4:6, s)
a / b
```
and raises errors in case of meaningless operations
```{r error=TRUE}
a + b
```

## Temporal Reference Systems

### POSIXt and Date

### Time zones

## Coordinate Reference Systems {#crs}

[@iliffelott]

[@lott2015geographic]: new WKT standard

what is EPSG, what is proj4string; WKT, WKT2

What is a datum?

### Coordinate transformation and conversion {#transform}

Geodesics: [@karney2013algorithms]

